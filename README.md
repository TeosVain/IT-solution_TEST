# CashFlowViewer

CashFlowViewer — это веб-приложение Django, предназначенное для отслеживания и анализа финансовых потоков. Оно позволяет пользователям регистрировать доходы и расходы, классифицировать их по типам, категориям и подкатегориям, а также просматривать записи в удобном формате.

## Возможности

*   **Управление записями о финансовых операциях:** Добавление, редактирование и удаление записей о доходах и расходах.
*   **Категоризация:** Классификация записей по типам (доход/расход), категориям и подкатегориям.
*   **Фильтрация:** Фильтрация записей по дате, статусу, типу, категории и подкатегории.
*   **Просмотр:** Удобный просмотр записей с разбивкой по страницам.
*   **Администрирование:** Управление статусами, типами, категориями и подкатегориями через административную панель Django.

## Установка

1.  Docker и Docker Compose должны быть установлены на вашей системе.

2.  Создайте папку для проекта на вашей системе.

3.  В папке проекта создайте или скопируйте следующие файлы на основе файлов из папки configs:

	- docker-compose.yml — файл для конфигурации и запуска сервисов.
	- nginx.conf — конфигурация для nginx-прокси.
	- .env — файл с переменными окружения. Создайте его на основе .env.example.

4.  Запустите контейнеры:

    ```bash
    docker compose -f docker-compose.yml up
    ```

5.  После запуска контейнеров выполните миграции, сбор статики и настройку папки /static:

    ```bash
    docker exec <имя_контейнера_backend> python manage.py makemigrations
    docker exec <имя_контейнера_backend> python manage.py migrate
    docker exec <имя_контейнера_backend> python manage.py collectstatic
    docker exec <имя_контейнера_backend> cp -r /app/collected_static/. /static/
    ```

6.  Создайте суперпользователя:

    ```bash
    docker exec <имя_контейнера_backend> python manage.py createsuperuser
    ```

7. 	Перейдите по адресу: http://localhost:8000/ или http://<ваш адрес>:8000/ и начните работу.

## Установка и запуск через Django (только для разработки)

1.  Клонируйте репозиторий:

    ```bash
    git clone https://github.com/TeosVain/IT-solution_TEST.git
    cd IT-solution_TEST
    ```

2.  Создайте и активируйте виртуальное окружение:

    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

3.  Установите зависимости:

    ```bash
    cd backend
    pip install -r requirements.txt
    ```

4.  Измените базу данных в файле backend/cashflow_project/settings.py на SQLite.
    - https://docs.djangoproject.com/en/5.2/ref/databases/
    
5.  Примените миграции:

    ```bash
    python manage.py migrate
    ```

6.  Создайте суперпользователя:

    ```bash
    python manage.py createsuperuser
    ```

7.  Запустите сервер разработки:

    ```bash
    python manage.py runserver
    ```

## Настройка

*   **Настройки проекта:** Файл `cashflow_project/settings.py` содержит основные настройки проекта, такие как подключение к базе данных, параметры локализации и другие.
*   **Константы:** Файл `cashflow_project/constants.py` предназначен для хранения констант, используемых в проекте.

## Использование

1.  Войдите в систему, используя учетные данные суперпользователя.
2.  Перейдите с главной страницы во вкладки (статусы, типы, категории, подкатегории) для их добавления и настройки. Настроить эти разделы можно и в административной панель (`/admin/`).
3.  Используйте основное меню для просмотра и добавления финансовых операций.

## Технологии

	•	Django — веб-фреймворк Python.
	•	PostgreSQL — СУБД для хранения данных.
	•	Docker — контейнеризация приложения.
	•	Docker Compose — оркестрация сервисов.
	•	nginx — прокси-сервер.
	•	gunicorn — WSGI-сервер для запуска Django-приложения.
	•	django-bootstrap5, django-widget-tweaks — удобства на фронтенде.

## Автор

TeosVain
